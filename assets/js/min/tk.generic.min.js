// generic javascript
// ------------------------------------------------------------
$(function(){
// update screen height
// ------------------------------------------------------------	
function e(){n=$(window).innerWidth(),o=$(window).innerHeight(),
// set breakpoints
r=912<n?(a=!1,.86):(a=!0,.8)}function s(){var e;
// fade arrow scroll down button
60<$(window).scrollTop()?($(".js-scroll-down").addClass("o-0"),$(".js-subnav").addClass("is-sticky")):($(".js-scroll-down").removeClass("o-0"),$(".js-subnav").removeClass("is-sticky")),l=!1}
// section scroll constructor
function t(e){var s=document.getElementById("flx-s"+e),t="#flx-s"+e,n="#flx-s"+(e-1),o=".js-bg-"+e;if(s)var i=new ScrollMagic.Scene({triggerElement:t,duration:999999}).triggerHook(r).offset(0).on("start",function(){$(o).toggleClass("is-active"),$(t+" .js-tr").toggleClass("is-active")}).addTo(c)}
// include html
// ------------------------------------------------------------
function i(){var e,s,t,n,o;
/*loop through a collection of all HTML elements:*/for(e=document.getElementsByTagName("*"),s=0;s<e.length;s++)if(
/*search for elements with a certain atrribute:*/
n=(t=e[s]).getAttribute("include"))
/*exit the function:*/
/*make an HTTP request using the attribute value as the file name:*/
return(o=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&(200==this.status&&(t.innerHTML=this.responseText),404==this.status&&(t.innerHTML="Page not found.")
/*remove the attribute, and call this function once more:*/,t.removeAttribute("include"),i())},o.open("GET",n,!0),void o.send()}
// global vars
// ------------------------------------------------------------
// ------------------------------------------------------------
var n=Number,o=Number,a=Boolean,l=!1,r=Number;e(),
// update when resizing
$(window).resize(function(){e()}),
// functionality that"s on linked on scroll
// ------------------------------------------------------------
$(window).scroll(function(){(l=!0)&&requestAnimationFrame(s)}),
// subnav
// ------------------------------------------------------------
$(".js-subnav-toggle").click(function(){$(this).toggleClass("is-active"),$(".js-subnav, .js-subnav-xs").toggleClass("is-active")}),window.onscroll=function(){$(".js-subnav-toggle").removeClass("is-active"),$(".js-subnav, .js-subnav-xs").removeClass("is-active")};
// scroll magic
// ------------------------------------------------------------
// init controller
var c=new ScrollMagic.Controller,u;$(".flx-section").each(function(e){$(this).attr("id","flx-s"+e),t(e)}),
// scrollto
// ------------------------------------------------------------
$(".js-scroll-down").click(function(){TweenLite.to(window,1,{ease:Power3.easeInOut,scrollTo:{y:"#flx-s0",offsetY:.15*n,autoKill:!1}})}),
// read more
// ------------------------------------------------------------
$(".js-more").click(function(){var e=$(".js-more-btn",this),s=$(".js-more-content",this);TweenLite.set(e,{autoAlpha:0}),TweenLite.to(e,.1,{display:"none"}),s.slideDown(250)}),
// show ROS items
// ------------------------------------------------------------
$(".js-ros-btn").click(function(){var e;$(".js-ros-content").fadeIn(250),TweenLite.to(this,.25,{ease:Power3.easeInOut,autoAlpha:0}),TweenLite.to(window,.7,{ease:Power3.easeInOut,scrollTo:{y:$(window).scrollTop()+240,autoKill:!1}})}),i()});